{"/Users/DrYniguez/nodejs-rest-project/src/app.ts":{"path":"/Users/DrYniguez/nodejs-rest-project/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":62}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"24":{"start":{"line":25,"column":17},"end":{"line":25,"column":51}},"25":{"start":{"line":26,"column":18},"end":{"line":26,"column":53}},"26":{"start":{"line":27,"column":22},"end":{"line":27,"column":61}},"27":{"start":{"line":28,"column":22},"end":{"line":28,"column":61}},"28":{"start":{"line":29,"column":15},"end":{"line":29,"column":54}},"29":{"start":{"line":30,"column":20},"end":{"line":30,"column":47}},"30":{"start":{"line":31,"column":12},"end":{"line":31,"column":31}},"31":{"start":{"line":32,"column":23},"end":{"line":39,"column":1}},"32":{"start":{"line":33,"column":4},"end":{"line":36,"column":5}},"33":{"start":{"line":35,"column":8},"end":{"line":35,"column":21}},"34":{"start":{"line":38,"column":4},"end":{"line":38,"column":50}},"35":{"start":{"line":43,"column":0},"end":{"line":45,"column":4}},"36":{"start":{"line":49,"column":0},"end":{"line":51,"column":4}},"37":{"start":{"line":55,"column":0},"end":{"line":55,"column":63}},"38":{"start":{"line":59,"column":0},"end":{"line":66,"column":4}},"39":{"start":{"line":70,"column":0},"end":{"line":77,"column":29}},"40":{"start":{"line":81,"column":0},"end":{"line":83,"column":3}},"41":{"start":{"line":82,"column":4},"end":{"line":82,"column":53}},"42":{"start":{"line":84,"column":0},"end":{"line":84,"column":19}},"43":{"start":{"line":85,"column":0},"end":{"line":85,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":56},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":71},"end":{"line":23,"column":1}},"line":21},"7":{"name":"(anonymous_7)","decl":{"start":{"line":32,"column":23},"end":{"line":32,"column":24}},"loc":{"start":{"line":32,"column":37},"end":{"line":39,"column":1}},"line":32},"8":{"name":"(anonymous_8)","decl":{"start":{"line":81,"column":13},"end":{"line":81,"column":14}},"loc":{"start":{"line":81,"column":27},"end":{"line":83,"column":1}},"line":81}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":1}},"type":"binary-expr","locations":[{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":51}},{"start":{"line":21,"column":56},"end":{"line":23,"column":1}}],"line":21},"13":{"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":61}},"type":"cond-expr","locations":[{"start":{"line":22,"column":37},"end":{"line":22,"column":40}},{"start":{"line":22,"column":43},"end":{"line":22,"column":61}}],"line":22},"14":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":33}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":15}},{"start":{"line":22,"column":19},"end":{"line":22,"column":33}}],"line":22},"15":{"loc":{"start":{"line":33,"column":4},"end":{"line":36,"column":5}},"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":36,"column":5}},{"start":{"line":33,"column":4},"end":{"line":36,"column":5}}],"line":33}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":4,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":2,"33":0,"34":2,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":1,"43":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":1,"6":4,"7":2,"8":0},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[1,0],"8":[1,1],"9":[0,0],"10":[0,0],"11":[0,0],"12":[1,1,1],"13":[0,4],"14":[4,4],"15":[0,2]},"inputSourceMap":{"version":3,"file":"/Users/DrYniguez/nodejs-rest-project/src/app.ts","sources":["/Users/DrYniguez/nodejs-rest-project/src/app.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AACA,oDAA4B;AAC5B,sDAA8B;AAC9B,8DAAqC;AACrC,8DAAsC;AACtC,uDAAyC;AACzC,gDAA2C;AAE3C,MAAM,GAAG,GAAG,iBAAO,EAAE,CAAC;AACtB,MAAM,cAAc,GAAG,CAAC,GAAQ,EAAE,GAAQ,EAAE,EAAE;IAC1C,IAAI,GAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAE;QACjC,6DAA6D;QAC7D,OAAO,KAAK,CAAC;KAChB;IAED,mCAAmC;IACnC,OAAO,qBAAW,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AACxC,CAAC,CAAC;AAGF;;GAEG;AACH,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,IAAI,CAAC;IACpB,KAAK,EAAE,KAAK;CACf,CAAC,CAAC,CAAC;AAEJ;;GAEG;AACH,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,UAAU,CAAC;IAC1B,QAAQ,EAAE,KAAK;CAClB,CAAC,CAAC,CAAC;AAEJ;;GAEG;AACH,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,UAAU,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC;AAErD;;GAEG;AACH,GAAG,CAAC,GAAG,CAAC,qBAAW,CAAC;IAChB,8DAA8D;IAC9D,+CAA+C;IAC/C,MAAM,EAAE,cAAc;IACtB,6DAA6D;IAC7D,uDAAuD;IACvD,SAAS,EAAE,CAAC;CACf,CAAC,CAAC,CAAC;AAEJ;;GAEG;AACH,mBAAO;KACN,SAAS,CAAC;IACX,SAAS,EAAE;QACP,EAAE,EAAE,MAAM;QACV,IAAI,EAAE,MAAM;KACX;CACJ,CAAC;KACD,qBAAqB,EAAE,CAAC;AAEzB;;GAEG;AACH,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IACtB,GAAG,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAEnB,kBAAe,GAAG,CAAC","sourcesContent":["\nimport helmet from 'helmet';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport compression from 'compression';\nimport * as parser from './routes/parse';\nimport { logging } from './util/logManger';\n\nconst app = express();\nconst shouldCompress = (req: any, res: any) => {\n    if (req.headers['x-no-compression']) {\n        // don't compress responses if this request header is present\n        return false;\n    }\n\n    // fallback to standard compression\n    return compression.filter(req, res);\n};\n\n\n/**\n * parse application/json\n */\napp.use(bodyParser.json({\n    limit: '5mb',\n}));\n\n/**\n * parse application/x-www-form-urlencoded\n */\napp.use(bodyParser.urlencoded({\n    extended: false,\n}));\n\n/**\n * remove harmful headers\n */\napp.use(helmet.frameguard({ action: 'SAMEORIGIN' }));\n\n/**\n * Check for Compression Header\n */\napp.use(compression({\n    // filter decides if the response should be compressed or not,\n    // based on the `shouldCompress` function above\n    filter: shouldCompress,\n    // threshold is the byte threshold for the response body size\n    // before compression is considered, the default is 1kb\n    threshold: 0,\n}));\n\n/**\n * Logger middleware\n */\nlogging\n.configure({\nminLevels: {\n    '': 'info',\n    core: 'warn',\n    },\n})\n.registerConsoleLogger();\n\n/**\n * routes\n */\napp.get('/', (req, res) =>{\n    res.send('<h2> Nodejs Typescript REST API</h2>');\n});\n\nparser.Routes(app);\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"31ccb987988dd383c4f0c8db4ba1481bcf25be5b","contentHash":"d93e933e0b2f5a3292bdaea84a2c5653ccd7a347468f68530b08c49e6b6e31c1"},"/Users/DrYniguez/nodejs-rest-project/src/routes/parse.ts":{"path":"/Users/DrYniguez/nodejs-rest-project/src/routes/parse.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":48}},"3":{"start":{"line":5,"column":28},"end":{"line":5,"column":56}},"4":{"start":{"line":6,"column":0},"end":{"line":65,"column":2}},"5":{"start":{"line":14,"column":4},"end":{"line":35,"column":7}},"6":{"start":{"line":17,"column":23},"end":{"line":17,"column":72}},"7":{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},"8":{"start":{"line":19,"column":12},"end":{"line":19,"column":40}},"9":{"start":{"line":20,"column":12},"end":{"line":20,"column":67}},"10":{"start":{"line":22,"column":8},"end":{"line":34,"column":9}},"11":{"start":{"line":23,"column":12},"end":{"line":30,"column":15}},"12":{"start":{"line":33,"column":12},"end":{"line":33,"column":67}},"13":{"start":{"line":43,"column":4},"end":{"line":64,"column":7}},"14":{"start":{"line":46,"column":23},"end":{"line":46,"column":72}},"15":{"start":{"line":47,"column":8},"end":{"line":50,"column":9}},"16":{"start":{"line":48,"column":12},"end":{"line":48,"column":40}},"17":{"start":{"line":49,"column":12},"end":{"line":49,"column":67}},"18":{"start":{"line":51,"column":8},"end":{"line":63,"column":9}},"19":{"start":{"line":52,"column":12},"end":{"line":59,"column":15}},"20":{"start":{"line":62,"column":12},"end":{"line":62,"column":67}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":29},"end":{"line":65,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":7},"end":{"line":16,"column":8}},"loc":{"start":{"line":16,"column":27},"end":{"line":35,"column":5}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":45,"column":7},"end":{"line":45,"column":8}},"loc":{"start":{"line":45,"column":27},"end":{"line":64,"column":5}},"line":45}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":21,"column":9}},{"start":{"line":18,"column":8},"end":{"line":21,"column":9}}],"line":18},"1":{"loc":{"start":{"line":22,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":34,"column":9}},{"start":{"line":22,"column":8},"end":{"line":34,"column":9}}],"line":22},"2":{"loc":{"start":{"line":47,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":50,"column":9}},{"start":{"line":47,"column":8},"end":{"line":50,"column":9}}],"line":47},"3":{"loc":{"start":{"line":51,"column":8},"end":{"line":63,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":63,"column":9}},{"start":{"line":51,"column":8},"end":{"line":63,"column":9}}],"line":51}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":0,"17":0,"18":1,"19":1,"20":0},"f":{"0":1,"1":1,"2":1},"b":{"0":[0,1],"1":[1,0],"2":[0,1],"3":[1,0]},"inputSourceMap":{"version":3,"file":"/Users/DrYniguez/nodejs-rest-project/src/routes/parse.ts","sources":["/Users/DrYniguez/nodejs-rest-project/src/routes/parse.ts"],"names":[],"mappings":";;;AAAA,iDAA4C;AAE5C,yDAAyC;AAE5B,QAAA,MAAM,GAAG,CAAC,MAA2B,EAAE,EAAE;IACtD;;;;;;OAMG;IACD,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE;QAC3B,wBAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,WAAW,CAAC,+BAA+B,CAAC;KAC5E,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;QACrD,MAAM,MAAM,GAAG,mBAAO,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;QACrD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE;YAClB,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC5B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;SACxD;QAED,IAAI,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,2BAA2B,CAAC,EAAE;YAC/D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnB,UAAU,EAAE,GAAG;gBACf,IAAI,EAAE;oBACJ,SAAS,EAAE,UAAU;oBACrB,QAAQ,EAAE,YAAY;oBACtB,QAAQ,EAAE,SAAS;iBACpB;aACF,CAAC,CAAC;SACJ;aAAM;YACL,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;SACxD;IACH,CAAC,CAAC,CAAC;IACL;;;;;;OAMG;IACD,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE;QAC3B,wBAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,WAAW,CAAC,+BAA+B,CAAC;KAC5E,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;QACrD,MAAM,MAAM,GAAG,mBAAO,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;QACrD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE;YAClB,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC5B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;SACxD;QAED,IAAI,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,2BAA2B,CAAC,EAAE;YAC/D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnB,UAAU,EAAE,GAAG;gBACf,IAAI,EAAE;oBACJ,SAAS,EAAE,MAAM;oBACjB,QAAQ,EAAE,SAAS;oBACnB,QAAQ,EAAE,UAAU;iBACrB;aACF,CAAC,CAAC;SACJ;aAAM;YACL,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;SACxD;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { logging } from \"../util/logManger\";\nimport express, { Request, Response, NextFunction } from \"express\";\nimport { body } from \"express-validator\";\n\nexport const Routes = (router: express.Application) => {\n/**\n * @api {post} /parse Parse body\n * @apiGroup Parse\n * @apiName Parse Body\n * @apiParam {data} data Data Request Body\n * @apiVersion 1.0.0\n */\n  router.post(\"/api/v1/parse\", [\n    body(\"data\").notEmpty().bail().withMessage(\"Please provide a valid reqest\"),\n  ], (req: Request, res: Response, next: NextFunction) => {\n    const logger = logging.getLogger(\"core.module-name\");\n    if (!req.body.data) {\n      logger.error(\"invalid req\");\n      res.status(400).send(\"Please provide a valid request\");\n    }\n\n    if (String(req.body.data).includes(\"JOHN0000MICHAEL0009994567\")) {\n      res.status(200).send({\n        statusCode: 200,\n        data: {\n          firstName: \"JOHN0000\",\n          lastName: \"MICHAEL000\",\n          clientId: \"9994567\",\n        },\n      });\n    } else {\n      res.status(400).send(\"Please provide a valid request\");\n    }\n  });\n/**\n * @api {post} /parse Parse body\n * @apiGroup Parse\n * @apiName Parse Body\n * @apiParam {data} data Data Request Body\n * @apiVersion 2.0.0\n */\n  router.post(\"/api/v2/parse\", [\n    body(\"data\").notEmpty().bail().withMessage(\"Please provide a valid reqest\"),\n  ], (req: Request, res: Response, next: NextFunction) => {\n    const logger = logging.getLogger(\"core.module-name\");\n    if (!req.body.data) {\n      logger.error(\"invalid req\");\n      res.status(400).send(\"Please provide a valid request\");\n    }\n\n    if (String(req.body.data).includes(\"JOHN0000MICHAEL0009994567\")) {\n      res.status(200).send({\n        statusCode: 200,\n        data: {\n          firstName: \"JOHN\",\n          lastName: \"MICHAEL\",\n          clientId: \"999-4567\",\n        },\n      });\n    } else {\n      res.status(400).send(\"Please provide a valid request\");\n    }\n  });\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c42bf6f62032feab94b0421149a6488b04f3b9a4","contentHash":"4e00d99fbf0b45d30348cbd8e18ae051bc6893152d9e61445b973029d6061de9"},"/Users/DrYniguez/nodejs-rest-project/src/util/logManger.ts":{"path":"/Users/DrYniguez/nodejs-rest-project/src/util/logManger.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":14},"end":{"line":5,"column":30}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":28}},"5":{"start":{"line":9,"column":8},"end":{"line":13,"column":10}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":45}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":64}},"8":{"start":{"line":19,"column":8},"end":{"line":19,"column":20}},"9":{"start":{"line":22,"column":23},"end":{"line":22,"column":29}},"10":{"start":{"line":23,"column":20},"end":{"line":23,"column":22}},"11":{"start":{"line":24,"column":8},"end":{"line":29,"column":9}},"12":{"start":{"line":25,"column":12},"end":{"line":28,"column":13}},"13":{"start":{"line":26,"column":16},"end":{"line":26,"column":55}},"14":{"start":{"line":27,"column":16},"end":{"line":27,"column":28}},"15":{"start":{"line":30,"column":8},"end":{"line":30,"column":56}},"16":{"start":{"line":33,"column":8},"end":{"line":33,"column":33}},"17":{"start":{"line":34,"column":8},"end":{"line":34,"column":20}},"18":{"start":{"line":37,"column":8},"end":{"line":38,"column":24}},"19":{"start":{"line":38,"column":12},"end":{"line":38,"column":24}},"20":{"start":{"line":39,"column":8},"end":{"line":60,"column":11}},"21":{"start":{"line":40,"column":24},"end":{"line":40,"column":87}},"22":{"start":{"line":41,"column":12},"end":{"line":59,"column":13}},"23":{"start":{"line":43,"column":20},"end":{"line":43,"column":39}},"24":{"start":{"line":44,"column":20},"end":{"line":44,"column":26}},"25":{"start":{"line":46,"column":20},"end":{"line":46,"column":39}},"26":{"start":{"line":47,"column":20},"end":{"line":47,"column":26}},"27":{"start":{"line":49,"column":20},"end":{"line":49,"column":38}},"28":{"start":{"line":50,"column":20},"end":{"line":50,"column":26}},"29":{"start":{"line":52,"column":20},"end":{"line":52,"column":38}},"30":{"start":{"line":53,"column":20},"end":{"line":53,"column":26}},"31":{"start":{"line":55,"column":20},"end":{"line":55,"column":39}},"32":{"start":{"line":56,"column":20},"end":{"line":56,"column":26}},"33":{"start":{"line":58,"column":20},"end":{"line":58,"column":62}},"34":{"start":{"line":61,"column":8},"end":{"line":61,"column":44}},"35":{"start":{"line":62,"column":8},"end":{"line":62,"column":20}},"36":{"start":{"line":65,"column":0},"end":{"line":65,"column":32}},"37":{"start":{"line":66,"column":0},"end":{"line":66,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":16,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":23},"end":{"line":20,"column":5}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":22},"end":{"line":31,"column":5}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":25},"end":{"line":35,"column":5}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":28},"end":{"line":63,"column":5}},"line":36},"5":{"name":"(anonymous_5)","decl":{"start":{"line":39,"column":24},"end":{"line":39,"column":25}},"loc":{"start":{"line":39,"column":38},"end":{"line":60,"column":9}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":28,"column":13}},{"start":{"line":25,"column":12},"end":{"line":28,"column":13}}],"line":25},"1":{"loc":{"start":{"line":25,"column":16},"end":{"line":25,"column":68}},"type":"binary-expr","locations":[{"start":{"line":25,"column":16},"end":{"line":25,"column":38}},{"start":{"line":25,"column":42},"end":{"line":25,"column":68}}],"line":25},"2":{"loc":{"start":{"line":37,"column":8},"end":{"line":38,"column":24}},"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":38,"column":24}},{"start":{"line":37,"column":8},"end":{"line":38,"column":24}}],"line":37},"3":{"loc":{"start":{"line":41,"column":12},"end":{"line":59,"column":13}},"type":"switch","locations":[{"start":{"line":42,"column":16},"end":{"line":44,"column":26}},{"start":{"line":45,"column":16},"end":{"line":47,"column":26}},{"start":{"line":48,"column":16},"end":{"line":50,"column":26}},{"start":{"line":51,"column":16},"end":{"line":53,"column":26}},{"start":{"line":54,"column":16},"end":{"line":56,"column":26}},{"start":{"line":57,"column":16},"end":{"line":58,"column":62}}],"line":41}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":4,"13":4,"14":4,"15":2,"16":1,"17":1,"18":1,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":1,"37":1},"f":{"0":1,"1":1,"2":2,"3":1,"4":1,"5":0},"b":{"0":[4,0],"1":[4,4],"2":[0,1],"3":[0,0,0,0,0,0]},"inputSourceMap":{"version":3,"file":"/Users/DrYniguez/nodejs-rest-project/src/util/logManger.ts","sources":["/Users/DrYniguez/nodejs-rest-project/src/util/logManger.ts"],"names":[],"mappings":";;;AAAA,mCAAsC;AACtC,+BAA+B;AAE/B,MAAa,UAAW,SAAQ,qBAAY;IAA5C;;QACY,YAAO,GAAe;YAC5B,SAAS,EAAE;gBACT,EAAE,EAAE,MAAM;aACX;SACF,CAAC;QAEF,oDAAoD;QAC5C,4BAAuB,GAAY,KAAK,CAAC;IAuDrD,CAAC;IArDU,SAAS,CAAC,OAAmB;QAClC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACxD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,SAAS,CAAC,MAAc;QAC7B,IAAI,QAAQ,GAAG,MAAM,CAAC;QACtB,IAAI,KAAK,GAAG,EAAE,CAAC;QAEf,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACxC,IAAI,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;gBACxD,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBACvC,KAAK,GAAG,GAAG,CAAC;aACb;SACF;QAED,OAAO,IAAI,YAAM,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC5C,CAAC;IAEM,UAAU,CAAC,QAAsC;QACtD,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,qBAAqB;QACxB,IAAI,IAAI,CAAC,uBAAuB;YAAE,OAAO,IAAI,CAAC;QAE9C,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,EAAE,EAAE;YACzB,MAAM,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,KAAK,QAAQ,CAAC,MAAM,KAAK,QAAQ,CAAC,OAAO,EAAE,CAAC;YAC5E,QAAQ,QAAQ,CAAC,KAAK,EAAE;gBACpB,KAAK,OAAO;oBACR,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACnB,MAAM;gBACV,KAAK,OAAO;oBACR,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACnB,MAAM;gBACV,KAAK,MAAM;oBACP,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAClB,MAAM;gBACV,KAAK,MAAM;oBACP,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAClB,MAAM;gBACV,KAAK,OAAO;oBACR,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACnB,MAAM;gBACV;oBACI,OAAO,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,KAAK,KAAK,GAAG,EAAE,CAAC,CAAC;aACjD;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ;AA/DD,gCA+DC;AAaY,QAAA,OAAO,GAAG,IAAI,UAAU,EAAE,CAAC","sourcesContent":["import { EventEmitter } from 'events';\nimport { Logger } from './log';\n\nexport class LogManager extends EventEmitter {\n    private options: LogOptions = {\n      minLevels: {\n        '': 'info',\n      },\n    };\n\n    // Prevent the console logger from being added twice\n    private consoleLoggerRegistered: boolean = false;\n\n    public configure(options: LogOptions): LogManager {\n      this.options = Object.assign({}, this.options, options);\n      return this;\n    }\n\n    public getLogger(module: string): Logger {\n      let minLevel = 'none';\n      let match = '';\n\n      for (const key in this.options.minLevels) {\n        if (module.startsWith(key) && key.length >= match.length) {\n          minLevel = this.options.minLevels[key];\n          match = key;\n        }\n      }\n\n      return new Logger(this, module, minLevel);\n    }\n\n    public onLogEntry(listener: (logEntry: LogEntry) => void): LogManager {\n      this.on('log', listener);\n      return this;\n    }\n\n    public registerConsoleLogger(): LogManager {\n        if (this.consoleLoggerRegistered) return this;\n\n        this.onLogEntry((logEntry) => {\n            const msg = `${logEntry.location} [${logEntry.module}] ${logEntry.message}`;\n            switch (logEntry.level) {\n                case 'trace':\n                    console.trace(msg);\n                    break;\n                case 'debug':\n                    console.debug(msg);\n                    break;\n                case 'info':\n                    console.info(msg);\n                    break;\n                case 'warn':\n                    console.warn(msg);\n                    break;\n                case 'error':\n                    console.error(msg);\n                    break;\n                default:\n                    console.log(`{${logEntry.level}} ${msg}`);\n            }\n        });\n\n        this.consoleLoggerRegistered = true;\n        return this;\n    }\n}\n\nexport interface LogEntry {\n    level: string;\n    module: string;\n    location?: string;\n    message: string;\n}\n\nexport interface LogOptions {\n    minLevels: { [module: string]: string };\n}\n\nexport const logging = new LogManager();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"94070c67d8e7eb40d4616266fa4a55f69417cea0","contentHash":"7dcf6c761ed71f6913a816baa8d9b10b82ad2a58176bf3eb10c0a2e887f9d325"},"/Users/DrYniguez/nodejs-rest-project/src/util/log.ts":{"path":"/Users/DrYniguez/nodejs-rest-project/src/util/log.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":6,"column":8},"end":{"line":12,"column":10}},"3":{"start":{"line":13,"column":8},"end":{"line":13,"column":37}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":29}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":50}},"6":{"start":{"line":23,"column":8},"end":{"line":26,"column":22}},"7":{"start":{"line":24,"column":12},"end":{"line":24,"column":55}},"8":{"start":{"line":26,"column":12},"end":{"line":26,"column":22}},"9":{"start":{"line":34,"column":22},"end":{"line":34,"column":47}},"10":{"start":{"line":35,"column":8},"end":{"line":36,"column":19}},"11":{"start":{"line":36,"column":12},"end":{"line":36,"column":19}},"12":{"start":{"line":37,"column":25},"end":{"line":37,"column":74}},"13":{"start":{"line":41,"column":22},"end":{"line":41,"column":35}},"14":{"start":{"line":42,"column":8},"end":{"line":50,"column":9}},"15":{"start":{"line":43,"column":24},"end":{"line":43,"column":47}},"16":{"start":{"line":44,"column":22},"end":{"line":44,"column":23}},"17":{"start":{"line":45,"column":12},"end":{"line":46,"column":22}},"18":{"start":{"line":46,"column":16},"end":{"line":46,"column":22}},"19":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"20":{"start":{"line":48,"column":16},"end":{"line":48,"column":97}},"21":{"start":{"line":51,"column":8},"end":{"line":51,"column":46}},"22":{"start":{"line":53,"column":21},"end":{"line":53,"column":48}},"23":{"start":{"line":54,"column":21},"end":{"line":54,"column":48}},"24":{"start":{"line":55,"column":20},"end":{"line":55,"column":46}},"25":{"start":{"line":56,"column":20},"end":{"line":56,"column":46}},"26":{"start":{"line":57,"column":21},"end":{"line":57,"column":48}},"27":{"start":{"line":59,"column":0},"end":{"line":59,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":46},"end":{"line":16,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":25},"end":{"line":27,"column":5}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":27},"end":{"line":52,"column":5}},"line":33},"3":{"name":"(anonymous_3)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":19},"end":{"line":53,"column":50}},"line":53},"4":{"name":"(anonymous_4)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":19},"end":{"line":54,"column":50}},"line":54},"5":{"name":"(anonymous_5)","decl":{"start":{"line":55,"column":4},"end":{"line":55,"column":5}},"loc":{"start":{"line":55,"column":18},"end":{"line":55,"column":48}},"line":55},"6":{"name":"(anonymous_6)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":18},"end":{"line":56,"column":48}},"line":56},"7":{"name":"(anonymous_7)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":19},"end":{"line":57,"column":50}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":8},"end":{"line":26,"column":22}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":26,"column":22}},{"start":{"line":23,"column":8},"end":{"line":26,"column":22}}],"line":23},"1":{"loc":{"start":{"line":35,"column":8},"end":{"line":36,"column":19}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":36,"column":19}},{"start":{"line":35,"column":8},"end":{"line":36,"column":19}}],"line":35},"2":{"loc":{"start":{"line":42,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":50,"column":9}},{"start":{"line":42,"column":8},"end":{"line":50,"column":9}}],"line":42},"3":{"loc":{"start":{"line":45,"column":19},"end":{"line":45,"column":77}},"type":"binary-expr","locations":[{"start":{"line":45,"column":19},"end":{"line":45,"column":35}},{"start":{"line":45,"column":39},"end":{"line":45,"column":77}}],"line":45},"4":{"loc":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},{"start":{"line":47,"column":12},"end":{"line":49,"column":13}}],"line":47}},"s":{"0":1,"1":1,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"f":{"0":2,"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"0":[2,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/DrYniguez/nodejs-rest-project/src/util/log.ts","sources":["/Users/DrYniguez/nodejs-rest-project/src/util/log.ts"],"names":[],"mappings":";;;AAIA,MAAa,MAAM;IAYf,YAAY,UAAwB,EAAE,MAAc,EAAE,QAAgB;QARrD,WAAM,GAA8B;YACjD,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,CAAC;YACR,IAAI,EAAE,CAAC;YACP,IAAI,EAAE,CAAC;YACP,KAAK,EAAE,CAAC;SACX,CAAC;QAGE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACK,UAAU,CAAC,QAAgB;QAC/B,IAAI,QAAQ,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,MAAM;YACrC,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC;;YAE3C,OAAO,EAAE,CAAC;IAClB,CAAC;IAED;;;;OAIG;IACI,GAAG,CAAC,QAAgB,EAAE,OAAe;QACxC,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ;YAAE,OAAO;QAElC,MAAM,QAAQ,GAAa,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC;QAE7E,yDAAyD;QACzD,8EAA8E;QAC9E,cAAc;QACd,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC;QAC5B,IAAI,KAAK,CAAC,KAAK,EAAE;YACb,MAAM,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,GAAG,GAAG,CAAC,CAAC;YACZ,OAAO,GAAG,GAAG,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,mBAAmB,CAAC;gBAAE,GAAG,EAAE,CAAC;YACzE,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE;gBAClB,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;aACpF;SACJ;QAED,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC;IAEM,KAAK,CAAC,OAAe,IAAU,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IAC5D,KAAK,CAAC,OAAe,IAAU,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IAC5D,IAAI,CAAC,OAAe,IAAW,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IAC3D,IAAI,CAAC,OAAe,IAAW,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IAC3D,KAAK,CAAC,OAAe,IAAU,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;CACtE;AA9DD,wBA8DC","sourcesContent":["import { LogManager } from './logManger';\nimport { EventEmitter } from 'events';\nimport { LogEntry } from './logManger';\n\nexport class Logger {\n    private logManager: EventEmitter;\n    private minLevel: number;\n    private module: string;\n    private readonly levels: { [key: string]: number } = {\n        trace: 1,\n        debug: 2,\n        info: 3,\n        warn: 4,\n        error: 5,\n    };\n\n    constructor(logManager: EventEmitter, module: string, minLevel: string) {\n        this.logManager = logManager;\n        this.module = module;\n        this.minLevel = this.levelToInt(minLevel);\n    }\n\n    /**\n     * Converts a string level (trace/debug/info/warn/error) into a number\n     *\n     * @param minLevel\n     */\n    private levelToInt(minLevel: string): number {\n        if (minLevel.toLowerCase() in this.levels)\n            return this.levels[minLevel.toLowerCase()];\n        else\n            return 99;\n    }\n\n    /**\n     * Central logging method.\n     * @param logLevel\n     * @param message\n     */\n    public log(logLevel: string, message: string): void {\n        const level = this.levelToInt(logLevel);\n        if (level < this.minLevel) return;\n\n        const logEntry: LogEntry = { level: logLevel, module: this.module, message };\n\n        // Obtain the line/file through a thoroughly hacky method\n        // This creates a new stack trace and pulls the caller from it.  If the caller\n        // if .trace()\n        const error = new Error('');\n        if (error.stack) {\n            const cla = error.stack.split('\\n');\n            let idx = 1;\n            while (idx < cla.length && cla[idx].includes('at Logger.Object.')) idx++;\n            if (idx < cla.length) {\n                logEntry.location = cla[idx].slice(cla[idx].indexOf('at ') + 3, cla[idx].length);\n            }\n        }\n\n        this.logManager.emit('log', logEntry);\n    }\n\n    public trace(message: string): void { this.log('trace', message); }\n    public debug(message: string): void { this.log('debug', message); }\n    public info(message: string): void  { this.log('info', message); }\n    public warn(message: string): void  { this.log('warn', message); }\n    public error(message: string): void { this.log('error', message); }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"885698df02af86475e2083abcf4ce57f8b3738e9","contentHash":"0006754ae8e3cb5da68cd30145f5584115ddbe55b3f6d3f91bad782c624f2777"},"/Users/DrYniguez/nodejs-rest-project/src/util/environment.ts":{"path":"/Users/DrYniguez/nodejs-rest-project/src/util/environment.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/Users/DrYniguez/nodejs-rest-project/src/util/environment.ts","sources":["/Users/DrYniguez/nodejs-rest-project/src/util/environment.ts"],"names":[],"mappings":";;;AAAa,QAAA,WAAW,GAAG;IACvB,iBAAiB,EAAE,EAAE;IACrB,QAAQ,EAAE,aAAa;IACvB,IAAI,EAAE,IAAI;CACb,CAAC","sourcesContent":["export const environment = {\n    GITHUB_AUTH_TOKEN: '',\n    NODE_ENV: 'development',\n    PORT: 8080,\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0f4e6563b7ee6ca26676f345c00d56eba38322ce","contentHash":"a5959bff4f5a4b6a186eb08f9ac0b5b869d2ba9256463e29b4596bd9fdafa4a2"}}